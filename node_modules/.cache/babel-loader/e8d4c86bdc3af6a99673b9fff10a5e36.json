{"ast":null,"code":"var _jsxFileName = \"/Users/saimarahman/Desktop/SECoach/New-Travel-App/nextRoute-frontend/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport { withRouter } from 'react-router-dom';\nimport './App.css';\nimport { Route, Switch } from 'react-router';\nimport HomeContainer from './HomeComponents/HomeContainer';\nimport ProfileContainer from './ProfileComponents/ProfileContainer';\nimport ShowContainer from './DestinationComponents/ShowContainer';\nimport HeaderContainer from './HeaderContainer.jsx';\nimport Footer from './Footer';\nimport NotFound from './NotFound';\n\nfunction App() {\n  //\n  // state={\n  //   user: {},\n  //   destinations:[],\n  //   search: \"\",\n  //   error: \"\"\n  // }\n  // componentDidMount() {\n  //   fetch(`https://traveladvisor-api.herokuapp.com/destinations`)\n  //   .then(r => r.json())\n  //   .then((destinations) => {\n  //     this.setState({\n  //       destinations\n  //     })\n  //   })\n  //\n  //   if(localStorage.token){\n  //     console.log(localStorage);\n  //     fetch(`https://traveladvisor-api.herokuapp.com/persist`, {\n  //       headers: {\n  //         \"Authorization\": `bearer ${localStorage.token}`\n  //       }\n  //     })\n  //     .then(r => r.json())\n  //     .then((data) => {\n  //       console.log(data);\n  //       if(data.token){\n  //\n  //         this.setState({\n  //             user: data.user\n  //           })\n  //         }\n  //       })\n  //     }\n  // }\n  // createNewUser = (newUser) => {\n  //   this.setState({\n  //     user: newUser.user,\n  //     token: newUser.token\n  //   })\n  // }\n  //\n  // loginUser = (user) => {\n  //   fetch('https://traveladvisor-api.herokuapp.com/login', {\n  //     method: \"POST\",\n  //     headers: {\n  //       \"content-type\": \"application/json\"\n  //     },\n  //     body: JSON.stringify(user)\n  //   })\n  //   .then(r => r.json())\n  //   .then(userData => {\n  //     if(userData.error){\n  //       this.setState({\n  //         error: userData.error\n  //       })\n  //     }else{\n  //       localStorage.setItem(\"token\", userData.token)\n  //       this.setState({\n  //         user: userData.user,\n  //         search: \"\"\n  //       })\n  //     }\n  //   })\n  //\n  //\n  //\n  //\n  // }\n  //\n  // updateSearchForm = (newValue) => {\n  //   this.setState(prevState => {\n  //     return {\n  //       search: newValue\n  //     }\n  //   })\n  // }\n  //\n  // filterSearch = () => {\n  //   let newArr = this.state.destinations.filter( destination => {\n  //     let searchValue = this.state.search.toLowerCase()\n  //     return destination.name.toLowerCase().includes(searchValue) || destination.trip_type.toLowerCase().includes(searchValue)\n  //   })\n  //   return newArr\n  // }\n  //\n  // clearSearch = (emptyValue) => {\n  //   this.setState({\n  //     search: emptyValue\n  //   })\n  // }\n  //\n  //\n  //    console.log(this.state.user);\n  //   let destinationsId = this.state.destinations.map(destination => destination.id)\n  //\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page-window\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(HeaderContainer, {\n    error: this.state.error,\n    createNewUser: this.createNewUser,\n    loginUser: this.loginUser,\n    historyProps: this.props,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(\"hr\", {\n    className: \"header-separation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    render: () => /*#__PURE__*/React.createElement(HomeContainer, {\n      clearSearch: this.clearSearch,\n      destinations: this.filterSearch(),\n      search: this.state.search,\n      updateSearchForm: this.updateSearchForm,\n      routerProps: this.props,\n      user: this.state.user,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 48\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/profile\",\n    render: localStorage.token ? routerProps => /*#__PURE__*/React.createElement(ProfileContainer, {\n      routerProps: routerProps,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 86\n      }\n    }) : routerProps => /*#__PURE__*/React.createElement(NotFound, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 152\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/:id\",\n    render: routerProps => /*#__PURE__*/React.createElement(ShowContainer, {\n      user: this.state.user,\n      routerProps: routerProps,\n      destinationsId: destinationsId,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 56\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Footer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default withRouter(App);","map":{"version":3,"sources":["/Users/saimarahman/Desktop/SECoach/New-Travel-App/nextRoute-frontend/src/App.js"],"names":["React","useState","useEffect","withRouter","Route","Switch","HomeContainer","ProfileContainer","ShowContainer","HeaderContainer","Footer","NotFound","App","state","error","createNewUser","loginUser","props","clearSearch","filterSearch","search","updateSearchForm","user","localStorage","token","routerProps","destinationsId"],"mappings":"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","sourcesContent":["import React, {useState, useEffect } from 'react'\nimport { withRouter } from 'react-router-dom'\nimport './App.css';\nimport { Route, Switch } from 'react-router'\nimport HomeContainer from './HomeComponents/HomeContainer'\nimport ProfileContainer from './ProfileComponents/ProfileContainer'\nimport ShowContainer from './DestinationComponents/ShowContainer'\nimport HeaderContainer from './HeaderContainer.jsx'\nimport Footer from './Footer'\nimport NotFound from './NotFound';\n\nfunction App () {\n\n  //\n  // state={\n  //   user: {},\n  //   destinations:[],\n  //   search: \"\",\n  //   error: \"\"\n  // }\n\n  // componentDidMount() {\n  //   fetch(`https://traveladvisor-api.herokuapp.com/destinations`)\n  //   .then(r => r.json())\n  //   .then((destinations) => {\n  //     this.setState({\n  //       destinations\n  //     })\n  //   })\n  //\n  //   if(localStorage.token){\n  //     console.log(localStorage);\n  //     fetch(`https://traveladvisor-api.herokuapp.com/persist`, {\n  //       headers: {\n  //         \"Authorization\": `bearer ${localStorage.token}`\n  //       }\n  //     })\n  //     .then(r => r.json())\n  //     .then((data) => {\n  //       console.log(data);\n  //       if(data.token){\n  //\n  //         this.setState({\n  //             user: data.user\n  //           })\n  //         }\n  //       })\n  //     }\n  // }\n\n  // createNewUser = (newUser) => {\n  //   this.setState({\n  //     user: newUser.user,\n  //     token: newUser.token\n  //   })\n  // }\n  //\n  // loginUser = (user) => {\n  //   fetch('https://traveladvisor-api.herokuapp.com/login', {\n  //     method: \"POST\",\n  //     headers: {\n  //       \"content-type\": \"application/json\"\n  //     },\n  //     body: JSON.stringify(user)\n  //   })\n  //   .then(r => r.json())\n  //   .then(userData => {\n  //     if(userData.error){\n  //       this.setState({\n  //         error: userData.error\n  //       })\n  //     }else{\n  //       localStorage.setItem(\"token\", userData.token)\n  //       this.setState({\n  //         user: userData.user,\n  //         search: \"\"\n  //       })\n  //     }\n  //   })\n  //\n  //\n  //\n  //\n  // }\n  //\n  // updateSearchForm = (newValue) => {\n  //   this.setState(prevState => {\n  //     return {\n  //       search: newValue\n  //     }\n  //   })\n  // }\n  //\n  // filterSearch = () => {\n  //   let newArr = this.state.destinations.filter( destination => {\n  //     let searchValue = this.state.search.toLowerCase()\n  //     return destination.name.toLowerCase().includes(searchValue) || destination.trip_type.toLowerCase().includes(searchValue)\n  //   })\n  //   return newArr\n  // }\n  //\n  // clearSearch = (emptyValue) => {\n  //   this.setState({\n  //     search: emptyValue\n  //   })\n  // }\n  //\n  //\n  //    console.log(this.state.user);\n  //   let destinationsId = this.state.destinations.map(destination => destination.id)\n  //\n    return (\n      <div className=\"page-window\">\n          <HeaderContainer error={this.state.error} createNewUser={this.createNewUser} loginUser={this.loginUser} historyProps={this.props} />\n          <hr className=\"header-separation\"/>\n\n        <Switch>\n          <Route exact path='/' render={ () => <HomeContainer\n          clearSearch={this.clearSearch}\n          destinations={this.filterSearch()}\n          search={this.state.search}\n          updateSearchForm={this.updateSearchForm}\n          routerProps={this.props}\n          user={this.state.user}\n          />} />\n          <Route exact path='/profile' render={localStorage.token ? (routerProps) => <ProfileContainer routerProps={routerProps} /> : (routerProps) => <NotFound />}/>\n          <Route path='/:id' render={ (routerProps) => <ShowContainer user={this.state.user} routerProps={routerProps} destinationsId={destinationsId} /> }/>\n        </Switch>\n\n        <Footer />\n      </div>\n    )\n\n}\n\n\nexport default withRouter(App);\n"]},"metadata":{},"sourceType":"module"}