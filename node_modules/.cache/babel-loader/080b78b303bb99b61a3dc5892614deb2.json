{"ast":null,"code":"var _jsxFileName = \"/Users/saimarahman/Desktop/SECoach/New-Travel-App/nextRoute-frontend/src/ProfileComponents/ProfileContainer.jsx\";\nimport React, { Component, useEffect, useState } from 'react';\nimport PhotoCard from './PhotoCard';\nimport BucketlistContainer from './BucketlistContainer';\nimport { Image } from 'semantic-ui-react';\n\nfunction ProfileContainer() {\n  let [user, setUser] = useState({});\n  useEffect(() => {\n    fetch('https://traveladvisor-api.herokuapp.com/profile', {\n      headers: {\n        \"Authorization\": `bearer ${localStorage.token}`\n      }\n    }).then(r => r.json()).then(user => {\n      setUser(user);\n    });\n  }, []); //\n  // componentDidMount() {\n  //   fetch('https://traveladvisor-api.herokuapp.com/profile', {\n  //     headers: {\n  //       \"Authorization\": `bearer ${localStorage.token}`\n  //     }\n  //   })\n  //   .then(r => r.json())\n  //   .then(user => {\n  //     this.setState({\n  //       ...user\n  //     })\n  //   })\n  // }\n\n  let deleteBucketItem = deletedId => {\n    fetch(`https://traveladvisor-api.herokuapp.com/add_joiners/${deletedId}`, {\n      method: \"DELETE\"\n    }).then(r => r.json()).then(deletedItem => {\n      let newBucketListArr = this.state.bucketlist.filter(bucketlistItem => bucketlistItem.id !== deletedItem.id);\n      this.setState({ ...this.state,\n        bucketlist: newBucketListArr\n      });\n    });\n  };\n\n  let deleteProfile = userId => {\n    fetch(`https://traveladvisor-api.herokuapp.com/${userId}`, {\n      method: \"DELETE\"\n    }).then(r => r.json()).then(deletedUser => {\n      this.setState({ ...this.state\n      });\n      localStorage.clear();\n      this.props.routerProps.history.push(\"/\");\n    });\n  }; // console.log(\"hello\")\n  // debugger\n\n\n  let {\n    bucketlist\n  } = this.state;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    className: \"profile-cover-photo\",\n    src: \"https://www.katikiesmykonos.com/wp-content/uploads/2019/09/drz_katikies-mykonos_q1a0346.jpg\",\n    alt: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(PhotoCard, {\n    profile_info: this.state,\n    deleteProfile: this.deleteProfile,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(BucketlistContainer, {\n    bucketlist: bucketlist,\n    routerProps: this.props.routerProps,\n    deleteBucketItem: this.deleteBucketItem,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 9\n    }\n  }));\n}\n\nexport default ProfileContainer;","map":{"version":3,"sources":["/Users/saimarahman/Desktop/SECoach/New-Travel-App/nextRoute-frontend/src/ProfileComponents/ProfileContainer.jsx"],"names":["React","Component","useEffect","useState","PhotoCard","BucketlistContainer","Image","ProfileContainer","user","setUser","fetch","headers","localStorage","token","then","r","json","deleteBucketItem","deletedId","method","deletedItem","newBucketListArr","state","bucketlist","filter","bucketlistItem","id","setState","deleteProfile","userId","deletedUser","clear","props","routerProps","history","push"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,SAA3B,EAAsCC,QAAtC,QAAsD,OAAtD;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACA,OAAOC,mBAAP,MAAgC,uBAAhC;AACA,SAASC,KAAT,QAAsB,mBAAtB;;AAGA,SAASC,gBAAT,GAA2B;AAEzB,MAAI,CAACC,IAAD,EAAOC,OAAP,IAAkBN,QAAQ,CAAC,EAAD,CAA9B;AAEAD,EAAAA,SAAS,CAAC,MAAI;AAEZQ,IAAAA,KAAK,CAAC,iDAAD,EAAoD;AACrDC,MAAAA,OAAO,EAAE;AACP,yBAAkB,UAASC,YAAY,CAACC,KAAM;AADvC;AAD4C,KAApD,CAAL,CAKGC,IALH,CAKQC,CAAC,IAAIA,CAAC,CAACC,IAAF,EALb,EAMGF,IANH,CAMQN,IAAI,IAAI;AACZC,MAAAA,OAAO,CAACD,IAAD,CAAP;AACD,KARH;AAWD,GAbQ,EAaN,EAbM,CAAT,CAJyB,CAmBzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAIS,gBAAgB,GAAIC,SAAD,IAAe;AACpCR,IAAAA,KAAK,CAAE,uDAAsDQ,SAAU,EAAlE,EAAqE;AAChEC,MAAAA,MAAM,EAAE;AADwD,KAArE,CAAL,CAGOL,IAHP,CAGYC,CAAC,IAAIA,CAAC,CAACC,IAAF,EAHjB,EAIOF,IAJP,CAIYM,WAAW,IAAI;AACjB,UAAIC,gBAAgB,GAAG,KAAKC,KAAL,CAAWC,UAAX,CAAsBC,MAAtB,CAA6BC,cAAc,IAAIA,cAAc,CAACC,EAAf,KAAsBN,WAAW,CAACM,EAAjF,CAAvB;AAEA,WAAKC,QAAL,CAAc,EACZ,GAAG,KAAKL,KADI;AAEZC,QAAAA,UAAU,EAAEF;AAFA,OAAd;AAIH,KAXP;AAYD,GAbD;;AAeA,MAAIO,aAAa,GAAIC,MAAD,IAAY;AAC9BnB,IAAAA,KAAK,CAAE,2CAA0CmB,MAAO,EAAnD,EAAsD;AACzDV,MAAAA,MAAM,EAAE;AADiD,KAAtD,CAAL,CAGCL,IAHD,CAGOC,CAAC,IAAIA,CAAC,CAACC,IAAF,EAHZ,EAICF,IAJD,CAIMgB,WAAW,IAAI;AACnB,WAAKH,QAAL,CAAc,EACZ,GAAG,KAAKL;AADI,OAAd;AAGAV,MAAAA,YAAY,CAACmB,KAAb;AACA,WAAKC,KAAL,CAAWC,WAAX,CAAuBC,OAAvB,CAA+BC,IAA/B,CAAoC,GAApC;AACD,KAVD;AAWD,GAZD,CAjDyB,CAgE3B;AACA;;;AACI,MAAI;AAAEZ,IAAAA;AAAF,MAAiB,KAAKD,KAA1B;AACA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,SAAS,EAAC,qBAAjB;AAAuC,IAAA,GAAG,EAAC,6FAA3C;AAAyI,IAAA,GAAG,EAAC,EAA7I;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE,oBAAC,SAAD;AAAW,IAAA,YAAY,EAAE,KAAKA,KAA9B;AAAqC,IAAA,aAAa,EAAE,KAAKM,aAAzD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFF,eAGE,oBAAC,mBAAD;AAAqB,IAAA,UAAU,EAAEL,UAAjC;AAA6C,IAAA,WAAW,EAAE,KAAKS,KAAL,CAAWC,WAArE;AAAkF,IAAA,gBAAgB,EAAE,KAAKhB,gBAAzG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAHF,CADF;AASH;;AAED,eAAeV,gBAAf","sourcesContent":["import React, { Component, useEffect, useState } from 'react';\nimport PhotoCard from './PhotoCard'\nimport BucketlistContainer from './BucketlistContainer'\nimport { Image } from 'semantic-ui-react'\n\n\nfunction ProfileContainer(){\n\n  let [user, setUser] = useState({})\n\n  useEffect(()=>{\n\n    fetch('https://traveladvisor-api.herokuapp.com/profile', {\n        headers: {\n          \"Authorization\": `bearer ${localStorage.token}`\n        }\n      })\n      .then(r => r.json())\n      .then(user => {\n        setUser(user)\n      })\n\n\n  }, [])\n\n  //\n  // componentDidMount() {\n  //   fetch('https://traveladvisor-api.herokuapp.com/profile', {\n  //     headers: {\n  //       \"Authorization\": `bearer ${localStorage.token}`\n  //     }\n  //   })\n  //   .then(r => r.json())\n  //   .then(user => {\n  //     this.setState({\n  //       ...user\n  //     })\n  //   })\n  // }\n\n  let deleteBucketItem = (deletedId) => {\n    fetch(`https://traveladvisor-api.herokuapp.com/add_joiners/${deletedId}`, {\n              method: \"DELETE\"\n          })\n          .then(r => r.json())\n          .then(deletedItem => {\n              let newBucketListArr = this.state.bucketlist.filter(bucketlistItem => bucketlistItem.id !== deletedItem.id)\n\n              this.setState({\n                ...this.state,\n                bucketlist: newBucketListArr\n              })\n          })\n  }\n\n  let deleteProfile = (userId) => {\n    fetch(`https://traveladvisor-api.herokuapp.com/${userId}`, {\n      method: \"DELETE\"\n    })\n    .then( r => r.json())\n    .then(deletedUser => {\n      this.setState({\n        ...this.state\n      })\n      localStorage.clear()\n      this.props.routerProps.history.push(\"/\")\n    })\n  }\n\n\n// console.log(\"hello\")\n// debugger\n    let { bucketlist } = this.state\n    return (\n      <div>\n        <Image className=\"profile-cover-photo\" src=\"https://www.katikiesmykonos.com/wp-content/uploads/2019/09/drz_katikies-mykonos_q1a0346.jpg\" alt=\"\" />\n        <PhotoCard profile_info={this.state} deleteProfile={this.deleteProfile}/>\n        <BucketlistContainer bucketlist={bucketlist} routerProps={this.props.routerProps} deleteBucketItem={this.deleteBucketItem}/>\n      </div>\n    );\n\n\n}\n\nexport default ProfileContainer;\n"]},"metadata":{},"sourceType":"module"}