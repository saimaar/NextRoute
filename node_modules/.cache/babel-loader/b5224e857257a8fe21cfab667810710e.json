{"ast":null,"code":"var _jsxFileName = \"/Users/saimarahman/Desktop/SECoach/New-Travel-App/nextRoute-frontend/src/DestinationComponents/ShowContainer.jsx\";\nimport React, { Component, useEffect, useState } from 'react';\nimport CommentContainer from './CommentContainer';\nimport PhotoContainer from './PhotoContainer';\nimport ThingsToDoContainer from './ThingsToDoContainer';\nimport NotFound from '../NotFound';\nimport { Card, Header } from 'semantic-ui-react';\nimport { Divider, Form, Label } from 'semantic-ui-react';\n\nfunction ShowContainer() {\n  // state = {\n  //   clicked: false,\n  // }\n  //\n  // componentDidMount() {\n  //   let destination_id = parseInt(this.props.routerProps.match.params.id)\n  //   fetch(`https://traveladvisor-api.herokuapp.com/destinations/${destination_id}`)\n  //   .then(r => r.json())\n  //   .then(destination => {\n  //     this.setState({\n  //       ...destination\n  //     })\n  //   })\n  // }\n  let createComment = newComment => {\n    fetch('https://traveladvisor-api.herokuapp.com/reviews', {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\",\n        \"accept\": \"application/json\",\n        \"Authorization\": `bearer ${localStorage.token}`\n      },\n      body: JSON.stringify({\n        destination_id: this.state.id,\n        comment: newComment.comment,\n        rating: newComment.rating\n      })\n    }).then(r => r.json()).then(newReview => {\n      let reviewArr = [...this.state.reviews, newReview];\n      this.setState({\n        reviews: reviewArr\n      });\n    });\n  };\n\n  let deleteReview = review_id => {\n    fetch(`https://traveladvisor-api.herokuapp.com/reviews/${review_id}`, {\n      method: \"DELETE\"\n    }).then(r => r.json()).then(deletedReview => {\n      let newReviewArr = this.state.reviews.filter(review => review.id !== deletedReview.review.id);\n      this.setState({ ...this.state,\n        reviews: newReviewArr\n      });\n    });\n  };\n\n  let addToBucketList = notifyAdd => {\n    fetch('https://traveladvisor-api.herokuapp.com/add_joiners', {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\",\n        \"Authorization\": `bearer ${localStorage.token}`\n      },\n      body: JSON.stringify({\n        destination_id: this.state.id\n      })\n    }).then(r => r.json()).then(add_joiner => {\n      let newAddJoiner = [...this.state.add_joiners, add_joiner];\n      this.setState({\n        add_joiners: newAddJoiner,\n        clicked: !this.state.clicked\n      });\n    });\n  };\n\n  let {\n    things_to_dos\n  } = this.state;\n  let thingsToDo = !things_to_dos ? null : things_to_dos.map(thingstodo => /*#__PURE__*/React.createElement(ThingsToDoContainer, {\n    key: thingstodo.id,\n    thingstodo: thingstodo,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 78\n    }\n  }));\n  let notifyAdd = this.state.clicked ? /*#__PURE__*/React.createElement(Label, {\n    pointing: \"right\",\n    className: \"notifyAdd\",\n    size: \"teal\",\n    basic: true,\n    color: \"black\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 43\n    }\n  }, \"Added to your bucketlist!\") : null;\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, this.props.destinationsId.includes(parseInt(this.props.routerProps.match.params.id)) ? /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"buckNotify\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, notifyAdd, /*#__PURE__*/React.createElement(\"div\", {\n    onClick: this.addToBucketList,\n    className: \"add-to-bucketlist\",\n    hidden: localStorage.token ? false : true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 11\n    }\n  }, \"+ Add to bucketlist \")), /*#__PURE__*/React.createElement(PhotoContainer, {\n    destination: this.state,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(Header, {\n    className: \"things-to-do-container-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, \"Things to Do\"), /*#__PURE__*/React.createElement(Card.Group, {\n    className: \"things-to-do-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, thingsToDo), /*#__PURE__*/React.createElement(CommentContainer, {\n    routerProps: this.props.routerProps,\n    deleteReview: this.deleteReview,\n    createComment: this.createComment,\n    destination: this.state,\n    user: this.props.user,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }\n  })) : /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(NotFound, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }\n  })));\n}\n\nexport default ShowContainer;","map":{"version":3,"sources":["/Users/saimarahman/Desktop/SECoach/New-Travel-App/nextRoute-frontend/src/DestinationComponents/ShowContainer.jsx"],"names":["React","Component","useEffect","useState","CommentContainer","PhotoContainer","ThingsToDoContainer","NotFound","Card","Header","Divider","Form","Label","ShowContainer","createComment","newComment","fetch","method","headers","localStorage","token","body","JSON","stringify","destination_id","state","id","comment","rating","then","r","json","newReview","reviewArr","reviews","setState","deleteReview","review_id","deletedReview","newReviewArr","filter","review","addToBucketList","notifyAdd","add_joiner","newAddJoiner","add_joiners","clicked","things_to_dos","thingsToDo","map","thingstodo","props","destinationsId","includes","parseInt","routerProps","match","params","user"],"mappings":"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","sourcesContent":["import React, { Component, useEffect, useState } from 'react';\nimport CommentContainer from './CommentContainer'\nimport PhotoContainer from './PhotoContainer'\nimport ThingsToDoContainer from './ThingsToDoContainer'\nimport NotFound from '../NotFound'\nimport { Card, Header } from 'semantic-ui-react'\nimport { Divider, Form, Label } from 'semantic-ui-react'\n\nfunction ShowContainer() {\n\n  // state = {\n  //   clicked: false,\n  // }\n  //\n  // componentDidMount() {\n  //   let destination_id = parseInt(this.props.routerProps.match.params.id)\n  //   fetch(`https://traveladvisor-api.herokuapp.com/destinations/${destination_id}`)\n  //   .then(r => r.json())\n  //   .then(destination => {\n  //     this.setState({\n  //       ...destination\n  //     })\n  //   })\n  // }\n\nlet createComment = (newComment) => {\n\n    fetch('https://traveladvisor-api.herokuapp.com/reviews', {\n      method: \"POST\",\n      headers: {\n        \"content-type\": \"application/json\",\n        \"accept\": \"application/json\",\n        \"Authorization\": `bearer ${localStorage.token}`\n      },\n      body: JSON.stringify({\n        destination_id: this.state.id,\n        comment: newComment.comment,\n        rating: newComment.rating\n      })\n    })\n    .then(r => r.json())\n    .then((newReview) => {\n      let reviewArr = [...this.state.reviews, newReview]\n      this.setState({\n        reviews: reviewArr\n      })\n    })\n  }\n\n  let deleteReview = (review_id) => {\n    fetch(`https://traveladvisor-api.herokuapp.com/reviews/${review_id}`, {\n      method: \"DELETE\"\n    })\n    .then(r => r.json())\n    .then(deletedReview => {\n      let newReviewArr = this.state.reviews.filter(review => review.id !== deletedReview.review.id)\n      this.setState({\n        ...this.state,\n        reviews: newReviewArr\n      })\n    })\n  }\n\n  let addToBucketList = (notifyAdd) => {\n      fetch('https://traveladvisor-api.herokuapp.com/add_joiners', {\n        method: \"POST\",\n        headers: {\n          \"content-type\": \"application/json\",\n          \"Authorization\": `bearer ${localStorage.token}`\n        },\n        body: JSON.stringify({\n          destination_id: this.state.id\n        })\n      })\n      .then(r => r.json())\n      .then(add_joiner => {\n          let newAddJoiner = [...this.state.add_joiners, add_joiner]\n          this.setState({\n            add_joiners: newAddJoiner,\n            clicked: !this.state.clicked\n        })\n      })\n  }\n\n\n\n    let { things_to_dos } = this.state\n    let thingsToDo = !things_to_dos ? null : things_to_dos.map(thingstodo => <ThingsToDoContainer key={thingstodo.id} thingstodo={thingstodo}/>)\n    let notifyAdd =  this.state.clicked ? <Label pointing =\"right\" className=\"notifyAdd\" size =\"teal\" basic color='black' >\n          Added to your bucketlist!\n        </Label> : null\n        \n    return (\n      <div>\n        {this.props.destinationsId.includes(parseInt(this.props.routerProps.match.params.id)) ?\n          <div>\n            <div className=\"buckNotify\">\n          {notifyAdd}\n          <div onClick={this.addToBucketList} className=\"add-to-bucketlist\" hidden={localStorage.token ? false : true}>+ Add to bucketlist </div>\n            </div>\n        <PhotoContainer destination={this.state}/>\n            <Header className=\"things-to-do-container-header\">Things to Do</Header>\n            <Card.Group className=\"things-to-do-container\">{thingsToDo}</Card.Group>\n            <CommentContainer routerProps={this.props.routerProps} deleteReview={this.deleteReview} createComment={this.createComment} destination={this.state} user={this.props.user} />\n          </div>\n          :\n          <div>\n            <NotFound />\n          </div>\n        }\n      </div>\n    );\n\n}\n\nexport default ShowContainer;\n"]},"metadata":{},"sourceType":"module"}